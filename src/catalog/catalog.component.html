<div class="top-bar">
  <div class="left-section">
    <div class="menu">&#8942;</div>  
    <h2 class="store-name">Perfums</h2>
  </div>
  <div class="search-container">
    <input type="text" placeholder="ğŸ” Rechercher un parfum..." class="search-input" />
  </div>
  <div class="right-section">
    <button title="Mon compte">ğŸ‘¤</button>
    <button title="Favoris">â¤</button>
    <button title="Panier">ğŸ›’</button>
  </div>
</div>


<div class="catalog">
  <h2>Liste des Produits</h2>
  <div class="product-list">
    @for (product of products; track product.id) {
      <div class="product-container">
        <div class="product-card" [class]="getQuantity(product)">
          <img [src]="product.imageUrl || '/assets/images/default-product.png'"
               [alt]="product.name"
               class="product-image"
               (error)="handleImageError($event)">
          <div class="product-info">
            <h3>{{product.name}}</h3>
            <p class="price">{{product.price}} DH</p>
            <div class="btn">
              <button class="cta acheter-btn">Acheter</button>
              <button class="cta detail-btn" (click)="toggleDetails(product.id)">Voir dÃ©tails</button>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</div>

<div class="popup-overlay" *ngIf="selectedProductId">
  <div class="popup-content">
    <app-product-details [productId]="selectedProductId"></app-product-details>
    <button class="close-btn" (click)="selectedProductId = null">âœ–</button>
  </div>
</div>
